<html>
<head><meta content='IE=Edge' http-equiv='X-UA-Compatible'/></head>
<body>
	<div id='player'></div>
	<button id="btnRestart">Restart</button>
	<script src='https://www.youtube.com/player_api'></script>
	<script>
		// create youtube player
		var player;
		var apiReady;

		// autoplay video
		function onPlayerReady(event) {
			event.target.playVideo();
		}

		// when video ends
		function onPlayerStateChange(event) {        
			if (event.data === 0) {          
				alert('done');
			}
		}

		function onYouTubePlayerAPIReady() {
			apiReady = true;
		}

		function createPlayer(videoId) {
			if (!apiReady) {
				return;
			}
			if (player) {
				player.destroy();
				player = null;
			}
			
			player = new YT.Player('player', {
				width: '640',
				height: '390',
				videoId: videoId,
				events: {
					onReady: onPlayerReady,
					onStateChange: onPlayerStateChange
				}
			});
		}
		
		document.getElementById('btnRestart').addEventListener('click', function() {
			createPlayer('9FqaMehDsUc');
		});
	</script>
</body>
</html>